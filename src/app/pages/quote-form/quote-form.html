<!-- Main Container: Full screen wrapper with dark purple gradient background and geometric pattern -->
<div class="min-h-screen bg-gradient-to-br from-[#020817] via-[#1a1f3c] to-[#2d1b4d] text-white py-8 px-4 relative overflow-hidden">
  <!-- Background Pattern: SVG grid overlay that creates subtle geometric lines across the page -->
  <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzEzNTRhIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-10 pointer-events-none"></div>
  
  <!-- Logo and Title Section: Header area with animated shield logo and page title -->
  <div class="mx-auto max-w-3xl text-center mb-12 relative">
    <!-- Logo Container: 80x80px container for the animated shield icon -->
    <div class="mx-auto w-20 h-20 mb-8 relative">
      <!-- Glow Effect: Blurred colored background that creates glowing aura behind the shield -->
      <div class="absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-50 blur-xl animate-pulse pointer-events-none"></div>
      <!-- Shield SVG: Security/protection icon with floating animation and gradient colors -->
      <svg class="w-full h-full relative z-10 animate-float" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <!-- Shield Shape: Main outline forming protective shield with gradient stroke and fill -->
        <path d="M12 2L4 6V12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12V6L12 2Z" 
              stroke="url(#gradient)" stroke-width="2" fill="url(#gradientFill)" class="animate-pulse"/>
        <!-- Checkmark: White checkmark inside shield indicating approval/security -->
        <path d="M9 12L11 14L15 10" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
        <!-- SVG Gradient Definitions: Color definitions for blue-purple-pink gradient effects -->
        <defs>
          <!-- Stroke Gradient: Blue to purple to pink gradient for shield outline -->
          <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#60A5FA"/>
            <stop offset="50%" style="stop-color:#7C3AED"/>
            <stop offset="100%" style="stop-color:#EC4899"/>
          </linearGradient>
          <!-- Fill Gradient: Semi-transparent version of same colors for shield interior -->
          <linearGradient id="gradientFill" x1="0%" y1="0%" x2="100%" y2="100%">
            <!-- Blue Stop: 10% opacity blue at start of gradient -->
            <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:0.1"/>
            <!-- Purple Stop: 15% opacity purple at middle of gradient -->
            <stop offset="50%" style="stop-color:#7C3AED;stop-opacity:0.15"/>
            <!-- Pink Stop: 10% opacity pink at end of gradient -->
            <stop offset="100%" style="stop-color:#EC4899;stop-opacity:0.1"/>
          </linearGradient>
        </defs>
      </svg>
    </div>

    <!-- Main Heading: Large title with animated gradient text effect that shifts colors -->
    <h1 class="text-3xl font-bold mb-3 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 text-transparent bg-clip-text animate-gradient">Shield Your Journey</h1>
    <!-- Welcome Message: Subtitle explaining the purpose of this page -->
    <p class="text-blue-300 mb-2 text-lg animate-fadeIn">
      Welcome to your personalized insurance experience
    </p>
    <!-- Instructions: Smaller text telling user what to do next -->
    <p class="text-indigo-300 text-base">
      Tell us a bit about yourself, and we'll craft the perfect coverage for your needs
    </p>
  </div>

  <!-- Progress Bar Component: Replaced complex progress bar HTML with reusable component -->
  <app-progress-bar [progress]="(formProgress$ | async) || 0" class="max-w-3xl mx-auto mb-12"></app-progress-bar>

  <!-- Form Container: Main reactive form that collects user data and submits quote request -->
  <form [formGroup]="quoteFormGroup" (ngSubmit)="onSubmit()" class="max-w-4xl mx-auto space-y-8">
    
    <!-- Personal Information Section: Component for driver's personal details -->
    <app-personal-info-section [parentForm]="quoteFormGroup"></app-personal-info-section>
    
    <!-- Vehicle Information Section: Component for vehicle selection with cascading dropdowns -->
    <app-vehicle-info-section [parentForm]="quoteFormGroup"></app-vehicle-info-section>
    
    <!-- Coverage Information Section: Component for insurance coverage options and driving history -->
    <app-coverage-info-section [parentForm]="quoteFormGroup"></app-coverage-info-section>
    
    <!-- Form Submit Section: Component for final submission, validation, and feedback -->
    <app-form-submit-section 
      [parentForm]="quoteFormGroup"
      [isLoading]="isLoading"
      [errorMessage]="submitError || ''"
      [showSuccessMessage]="false"
      (submitForm)="onSubmit()">
    </app-form-submit-section>
    
  </form>
</div>

<style>
  /* Dark Reader Compatibility - Tell Dark Reader this is already a dark theme */
  html[data-darkreader-mode="dynamic"],
  html[data-darkreader-scheme="dark"] {
    /* Preserve our dark theme when Dark Reader is active */
    filter: none !important;
  }
  
  /* Dark Reader Exception - Prevent inversion of our dark design */
  [data-darkreader-inline-bgcolor],
  [data-darkreader-inline-color] {
    background-color: inherit !important;
    color: inherit !important;
  }

  /* Dark Theme Colors */
  :root {
    --bg-primary: #020817;
    --bg-secondary: #1a1f3c;
    --bg-input: #141830;
    --text-primary: #ffffff;
    --text-secondary: #94a3b8;
    --border-color: #2d3748;
    --accent-color: #3b82f6;
    
    /* Dark Reader specific variables */
    --darkreader-neutral-background: var(--bg-primary);
    --darkreader-neutral-text: var(--text-primary);
  }

  @keyframes glow {
    0%, 100% { opacity: 0.8; filter: brightness(1); }
    50% { opacity: 1; filter: brightness(1.2); }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-10px) rotate(2deg); }
  }

  @keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
  }

  @keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-gradient {
    background-size: 200% auto;
    animation: gradient 3s linear infinite;
  }

  .animate-shimmer {
    background-size: 200% auto;
    animation: shimmer 3s linear infinite;
  }

  .animate-fadeIn {
    animation: fadeIn 0.6s ease-out forwards;
  }

  ::selection {
    background: rgba(99, 102, 241, 0.4);
    color: white;
  }

  .bg-gradient-animated {
    background-size: 200% 200%;
    animation: gradient 5s ease infinite;
  }

  /* Enhanced hover effects */
  button:hover, input:focus, select:focus {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px -10px rgba(79, 70, 229, 0.3);
  }

  /* Input field glow effect */
  input:focus, select:focus {
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
  }
</style>

